import{r as i,u as j,j as e,H as N,L as h}from"./app-CKvo3YMG.js";import{A as v}from"./AuthenticatedLayout-CttmCh-1.js";import{X as y}from"./x-DXsxlEps.js";import{U as w}from"./upload-1B6CT22C.js";import{I as A}from"./image-_4Oz2E8q.js";import{S as k}from"./save-DasK7Qms.js";import{c as C}from"./createLucideIcon-BHz3UtlU.js";import"./transition-Bv1B2sSu.js";const D=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],E=C("chevron-left",D);function q({auth:u}){const[c,o]=i.useState(null),[d,l]=i.useState(!1),x=i.useRef(null),{data:t,setData:a,post:g,processing:m,errors:r}=j({name:"",is_premium:!1,is_active:!0,thumbnail:null}),p=s=>{if(!s||!s.type.startsWith("image/"))return;a("thumbnail",s);const n=new FileReader;n.onloadend=()=>o(n.result),n.readAsDataURL(s)},f=s=>{s.preventDefault(),l(!1),p(s.dataTransfer.files[0])},b=s=>{s.preventDefault(),g(route("admin.designs.store"),{forceFormData:!0})};return e.jsxs(v,{user:u.user,header:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(h,{href:route("admin.designs.index"),className:"p-2 hover:bg-gray-100 rounded-full transition-all",children:e.jsx(E,{className:"w-5 h-5 text-gray-400"})}),e.jsx("h2",{className:"font-serif text-2xl text-[#1A1A1A]",children:"Nuevo Dise√±o"})]}),children:[e.jsx(N,{title:"Crear Dise√±o"}),e.jsx("div",{className:"py-12 bg-[#F9F9F7] min-h-screen",children:e.jsxs("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("form",{onSubmit:b,className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:`relative aspect-[4/3] rounded-2xl border-2 border-dashed transition-all duration-300 cursor-pointer overflow-hidden
                                    ${d?"border-[#C5A059] bg-[#C5A059]/5 scale-[1.02]":"border-gray-200 bg-white hover:border-[#C5A059]/50 hover:bg-gray-50"}`,onClick:()=>x.current.click(),onDragOver:s=>{s.preventDefault(),l(!0)},onDragLeave:()=>l(!1),onDrop:f,children:[c?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:c,alt:"preview",className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:s=>{s.stopPropagation(),o(null),a("thumbnail",null)},className:"absolute top-3 right-3 bg-white/90 backdrop-blur p-1.5 rounded-full shadow-lg hover:bg-red-50 transition-all",children:e.jsx(y,{className:"w-4 h-4 text-red-500"})})]}):e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-4 p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center",children:d?e.jsx(w,{className:"w-8 h-8 text-[#C5A059] animate-bounce"}):e.jsx(A,{className:"w-8 h-8 text-gray-300"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-500",children:"Arrastra tu imagen aqu√≠"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"o haz click para seleccionar"}),e.jsx("p",{className:"text-[10px] text-gray-300 mt-2",children:"JPG, PNG, WEBP ‚Äî m√°x 2MB"})]})]}),e.jsx("input",{ref:x,type:"file",accept:"image/*",className:"hidden",onChange:s=>p(s.target.files[0])})]}),r.thumbnail&&e.jsx("p",{className:"text-red-500 text-xs mt-2",children:r.thumbnail}),e.jsx("p",{className:"text-center text-[10px] text-gray-400 mt-3 uppercase tracking-widest",children:"Thumbnail del dise√±o"})]}),e.jsxs("div",{className:"lg:col-span-3 bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] uppercase tracking-[0.2em] text-[#888888] mb-3 font-bold",children:"Nombre del Dise√±o *"}),e.jsx("input",{type:"text",placeholder:"Ej: Elegancia Atemporal",value:t.name,onChange:s=>a("name",s.target.value),className:"w-full border-0 border-b border-[#E0E0E0] focus:border-[#C5A059] focus:ring-0 transition-all duration-300 p-0 pb-2 text-xl font-serif placeholder:text-gray-200",required:!0}),r.name&&e.jsx("p",{className:"text-red-500 text-xs mt-2",children:r.name})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-6 rounded-2xl border border-gray-100 bg-gray-50/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-[10px] uppercase tracking-widest font-bold text-[#1A1A1A]",children:"Premium"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t.is_premium,onChange:s=>a("is_premium",s.target.checked)}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#C5A059]"})]})]}),e.jsx("p",{className:"text-xs text-gray-400",children:"¬øRequiere suscripci√≥n?"})]}),e.jsxs("div",{className:"p-6 rounded-2xl border border-gray-100 bg-gray-50/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-[10px] uppercase tracking-widest font-bold text-[#1A1A1A]",children:"Activo"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t.is_active,onChange:s=>a("is_active",s.target.checked)}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500"})]})]}),e.jsx("p",{className:"text-xs text-gray-400",children:"¬øVisible para usuarios?"})]})]}),t.name&&e.jsxs("div",{className:"px-4 py-3 rounded-xl bg-gray-50 border border-gray-100",children:[e.jsx("p",{className:"text-[10px] uppercase tracking-widest text-gray-400 mb-1",children:"Slug generado autom√°ticamente"}),e.jsx("p",{className:"text-sm font-mono text-[#C5A059]",children:t.name.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")})]})]}),e.jsxs("div",{className:"bg-gray-50 px-8 py-6 flex justify-end gap-4 border-t border-gray-100",children:[e.jsx(h,{href:route("admin.designs.index"),className:"px-6 py-3 text-[10px] uppercase tracking-widest font-bold text-gray-400 hover:text-[#1A1A1A] transition-all",children:"Cancelar"}),e.jsxs("button",{type:"submit",disabled:m,className:"bg-[#1A1A1A] text-white px-10 py-3 rounded-xl uppercase tracking-widest text-[10px] font-bold hover:bg-[#C5A059] transition-all flex items-center gap-2 shadow-lg shadow-black/5 disabled:opacity-60",children:[e.jsx(k,{className:"w-4 h-4"}),m?"Guardando...":"Crear Dise√±o"]})]})]})]}),e.jsxs("div",{className:"mt-12 bg-[#0f172a] rounded-2xl p-8 text-white",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 bg-[#C5A059]/20 rounded-lg flex items-center justify-center text-[#C5A059] font-bold text-sm",children:"üí°"}),e.jsx("h3",{className:"text-lg font-serif",children:"¬øC√≥mo agrego el c√≥digo de un dise√±o?"})]}),e.jsxs("div",{className:"space-y-4 text-sm text-slate-300 leading-relaxed",children:[e.jsxs("p",{children:["Los dise√±os son componentes ",e.jsx("strong",{className:"text-white",children:"React (JSX)"})," guardados en:"]}),e.jsx("code",{className:"block bg-slate-800 rounded-xl p-4 text-[#C5A059] font-mono text-xs",children:"resources/js/Templates/[slug-del-diseno].jsx"}),e.jsxs("p",{children:["El sistema busca autom√°ticamente el componente usando el ",e.jsx("strong",{className:"text-white",children:"slug"})," del dise√±o. Por ejemplo, si el nombre es ",e.jsx("em",{children:'"Elegancia Atemporal"'}),", el slug ser√° ",e.jsx("code",{className:"text-[#C5A059]",children:"elegancia-atemporal"})," y el archivo debe ser:"]}),e.jsx("code",{className:"block bg-slate-800 rounded-xl p-4 text-[#C5A059] font-mono text-xs",children:"resources/js/Templates/elegancia-atemporal.jsx"}),e.jsxs("p",{children:["Ese componente recibir√° los datos del evento como ",e.jsx("code",{className:"text-[#C5A059]",children:"props"})," y se renderizar√° como la invitaci√≥n p√∫blica de la boda."]})]})]})]})})]})}export{q as default};
