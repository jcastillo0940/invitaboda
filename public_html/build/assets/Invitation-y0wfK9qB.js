import{r as g,u as v,j as e,H as w}from"./app-D6i_jFMs.js";import{T as k}from"./TemplateLoader-B6STuQhq.js";import{A as o}from"./index-DnqEZftT.js";import{m as a}from"./proxy-CX5w4x56.js";function O({event:i,guestGroup:n}){const[f,y]=g.useState(!1),[d,c]=g.useState(!1),{data:x,setData:j,post:A,processing:m,recentlySuccessful:p}=v({members:n?.members.map(t=>({id:t.id,name:t.name,is_attending:t.is_attending??!0,menu_choice:t.menu_choice||"",drink_choice:t.drink_choice||"",allergies:t.allergies||""}))||[]}),l=(t,r,s)=>{const b=[...x.members];b[t][r]=s,j("members",b)},N=t=>{t.preventDefault(),A(route("rsvp.submit",n.id),{onSuccess:()=>c(!1)})},h=i.design?.design_data||{primaryNames:i.name,date:i.date,location:"Lugar por definir",reception:"Lugar por definir",mainColor:"#C5A059",secondaryColor:"#1A1A1A",rsvpOptions:{askMenu:!1,askDrinks:!1}},u=h.rsvpOptions||{askMenu:!1};return e.jsxs("div",{className:"min-h-screen bg-[#F5F5F0] text-[#333333] font-serif selection:bg-[#C5A059] selection:text-white overflow-x-hidden",children:[e.jsx(w,{title:`Boda - ${i.name}`}),e.jsx(o,{children:f?e.jsxs(a.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"relative z-10",children:e.jsx(k,{slug:i.design?.template_name,data:h,guestGroup:n,event:i})}),n&&!d&&!p&&e.jsx(a.div,{initial:{y:100},animate:{y:0},className:"fixed bottom-10 left-1/2 -translate-x-1/2 z-40",children:e.jsx("button",{onClick:()=>c(!0),className:"bg-[#1A1A1A] text-white px-12 py-5 font-sans uppercase tracking-[0.3em] text-[10px] hover:bg-[#C5A059] transition-all shadow-2xl rounded-full border border-white/10 backdrop-blur-sm bg-opacity-90",children:"Confirmar Asistencia"})}),p&&e.jsxs("div",{className:"bg-white py-20 px-6 text-center border-t border-[#C5A059]",children:[e.jsx("h3",{className:"text-3xl italic text-[#C5A059] mb-4",children:"¡Gracias por confirmar!"}),e.jsx("p",{className:"text-gray-400 font-sans text-xs uppercase tracking-widest",children:"Hemos recibido tu respuesta con éxito."})]}),e.jsx(o,{children:d&&e.jsx(a.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},className:"fixed inset-0 z-[60] bg-white overflow-y-auto",children:e.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-20",children:[e.jsxs("div",{className:"flex justify-between items-center mb-12",children:[e.jsx("h3",{className:"text-3xl font-serif text-[#1A1A1A]",children:"Confirmar Asistencia"}),e.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-black font-sans text-xs uppercase tracking-widest",children:"Cerrar ×"})]}),e.jsxs("form",{onSubmit:N,className:"space-y-12",children:[x.members.map((t,r)=>e.jsxs("div",{className:"pb-12 border-b border-gray-100 last:border-0",children:[e.jsxs("div",{className:"md:flex justify-between items-center mb-6 space-y-4 md:space-y-0",children:[e.jsx("h4",{className:"text-xl italic text-[#1A1A1A]",children:t.name}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>l(r,"is_attending",!0),className:`flex-1 md:flex-none px-6 py-3 text-[10px] uppercase tracking-widest border transition-all ${t.is_attending?"bg-[#1A1A1A] text-white border-[#1A1A1A]":"border-gray-200 text-gray-400"}`,children:"Asistiré"}),e.jsx("button",{type:"button",onClick:()=>l(r,"is_attending",!1),className:`flex-1 md:flex-none px-6 py-3 text-[10px] uppercase tracking-widest border transition-all ${t.is_attending?"border-gray-200 text-gray-400":"bg-red-500 text-white border-red-500"}`,children:"No asistiré"})]})]}),e.jsx(o,{children:t.is_attending&&e.jsxs(a.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"grid md:grid-cols-2 gap-6 overflow-hidden",children:[u.askMenu&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-[9px] uppercase tracking-widest text-gray-400 mb-2 font-bold",children:"Elección de Menú"}),e.jsxs("select",{value:t.menu_choice,onChange:s=>l(r,"menu_choice",s.target.value),className:"w-full border-0 border-b border-gray-100 focus:border-[#C5A059] focus:ring-0 text-sm p-0 py-2",children:[e.jsx("option",{value:"",children:"Seleccionar..."}),u.menuOptions.split(",").map(s=>e.jsx("option",{value:s.trim(),children:s.trim()},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[9px] uppercase tracking-widest text-gray-400 mb-2 font-bold",children:"Alergias / Notas"}),e.jsx("input",{type:"text",value:t.allergies,onChange:s=>l(r,"allergies",s.target.value),className:"w-full border-0 border-b border-gray-100 focus:border-[#C5A059] focus:ring-0 text-sm p-0 py-2",placeholder:"Ej: Gluten, Lactosa..."})]})]})})]},t.id)),e.jsx("div",{className:"pt-12",children:e.jsx("button",{disabled:m,className:"w-full bg-[#1A1A1A] text-white py-5 font-sans uppercase tracking-[0.4em] text-xs hover:bg-[#C5A059] transition-all shadow-2xl",children:m?"Procesando...":"Confirmar Todo"})})]})]})})})]}):e.jsx(a.div,{initial:{opacity:1},exit:{opacity:0,scale:1.1},className:"fixed inset-0 z-50 flex items-center justify-center bg-[#1A1A1A] cursor-pointer",onClick:()=>y(!0),children:e.jsxs("div",{className:"text-center px-6",children:[e.jsx(a.div,{animate:{scale:[1,1.05,1],rotate:[0,1,-1,0]},transition:{repeat:1/0,duration:4},className:"mb-8",children:e.jsxs("div",{className:"w-48 h-48 md:w-64 md:h-64 border-2 border-[#C5A059] rounded-full flex flex-col items-center justify-center p-8 text-center",children:[e.jsxs("span",{className:"text-xl md:text-2xl text-[#C5A059] italic uppercase tracking-[0.2em] leading-tight",children:["Alta Costura",e.jsx("span",{className:"text-[10px] font-sans tracking-[0.5em] block mt-2 opacity-70",children:"Weddings"})]}),e.jsx("div",{className:"w-8 h-px bg-[#C5A059] my-4 opacity-50"}),e.jsx("span",{className:"text-[10px] text-white/50 uppercase tracking-widest font-sans",children:"Especialmente para ti"})]})}),e.jsx(a.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"text-[#C5A059] font-sans tracking-[0.5em] uppercase text-[10px]",children:"Toca para abrir"})]})})})]})}export{O as default};
